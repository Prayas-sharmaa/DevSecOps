{"filter":false,"title":"views.py","tooltip":"/storewebapp/views.py","undoManager":{"mark":10,"position":10,"stack":[[{"start":{"row":10,"column":4},"end":{"row":11,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":11,"column":0},"end":{"row":11,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":11,"column":0},"end":{"row":11,"column":4},"action":"remove","lines":["    "],"id":3}],[{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"insert","lines":["",""],"id":4}],[{"start":{"row":11,"column":0},"end":{"row":11,"column":1},"action":"insert","lines":["#"],"id":5}],[{"start":{"row":11,"column":1},"end":{"row":11,"column":2},"action":"insert","lines":[" "],"id":6},{"start":{"row":11,"column":2},"end":{"row":11,"column":3},"action":"insert","lines":["T"]},{"start":{"row":11,"column":3},"end":{"row":11,"column":4},"action":"insert","lines":["o"]}],[{"start":{"row":11,"column":4},"end":{"row":11,"column":5},"action":"insert","lines":[" "],"id":7},{"start":{"row":11,"column":5},"end":{"row":11,"column":6},"action":"insert","lines":["p"]},{"start":{"row":11,"column":6},"end":{"row":11,"column":7},"action":"insert","lines":["e"]},{"start":{"row":11,"column":7},"end":{"row":11,"column":8},"action":"insert","lines":["r"]},{"start":{"row":11,"column":8},"end":{"row":11,"column":9},"action":"insert","lines":["f"]},{"start":{"row":11,"column":9},"end":{"row":11,"column":10},"action":"insert","lines":["o"]},{"start":{"row":11,"column":10},"end":{"row":11,"column":11},"action":"insert","lines":["r"]},{"start":{"row":11,"column":11},"end":{"row":11,"column":12},"action":"insert","lines":["m"]}],[{"start":{"row":11,"column":12},"end":{"row":11,"column":13},"action":"insert","lines":[" "],"id":8},{"start":{"row":11,"column":13},"end":{"row":11,"column":14},"action":"insert","lines":["C"]},{"start":{"row":11,"column":14},"end":{"row":11,"column":15},"action":"insert","lines":["R"]},{"start":{"row":11,"column":15},"end":{"row":11,"column":16},"action":"insert","lines":["U"]},{"start":{"row":11,"column":16},"end":{"row":11,"column":17},"action":"insert","lines":["D"]}],[{"start":{"row":11,"column":17},"end":{"row":11,"column":18},"action":"insert","lines":[" "],"id":9},{"start":{"row":11,"column":18},"end":{"row":11,"column":19},"action":"insert","lines":["o"]},{"start":{"row":11,"column":19},"end":{"row":11,"column":20},"action":"insert","lines":["p"]},{"start":{"row":11,"column":20},"end":{"row":11,"column":21},"action":"insert","lines":["e"]},{"start":{"row":11,"column":21},"end":{"row":11,"column":22},"action":"insert","lines":["r"]},{"start":{"row":11,"column":22},"end":{"row":11,"column":23},"action":"insert","lines":["a"]}],[{"start":{"row":11,"column":23},"end":{"row":11,"column":24},"action":"insert","lines":["t"],"id":10},{"start":{"row":11,"column":24},"end":{"row":11,"column":25},"action":"insert","lines":["i"]},{"start":{"row":11,"column":25},"end":{"row":11,"column":26},"action":"insert","lines":["o"]},{"start":{"row":11,"column":26},"end":{"row":11,"column":27},"action":"insert","lines":["n"]},{"start":{"row":11,"column":27},"end":{"row":11,"column":28},"action":"insert","lines":["s"]}],[{"start":{"row":0,"column":0},"end":{"row":49,"column":36},"action":"remove","lines":["from django.shortcuts import render, redirect, get_object_or_404","from .models import Employee","from .forms import EmployeeForm","from django.contrib.auth.decorators import login_required","from django.contrib import messages","","# Create your views here.","","def home(request):","    return redirect('employee_list')","    ","# To perform CRUD operations","","def employee_list(request):","    employees = Employee.objects.all()","    return render(request, 'employee_list.html', {'employees': employees})","    ","def employee_create(request):","    if request.method == 'POST':","        form = EmployeeForm(request.POST)","        if form.is_valid():","            form.save()","            messages.success(request, \"Employee added successfully!\")","            return redirect('employee_list')","        else:","            messages.error(request, \"Please fix the errors below.\")","    else:","        form = EmployeeForm()","    return render(request, 'employee_form.html', {'form': form, 'title': 'Add Employee'})","","    ","def employee_update(request, id):","    emp = get_object_or_404(Employee, id=id)","    if request.method == 'POST':","        form = EmployeeForm(request.POST, instance=emp)","        if form.is_valid():","            form.save()","            messages.success(request, \"Employee updated successfully!\")","            return redirect('employee_list')","        else:","            messages.error(request, \"Please correct the errors below.\")","    else:","        form = EmployeeForm(instance=emp)","    return render(request, 'employee_form.html', {'form': form, 'title': 'Edit Employee'})","","","def employee_delete(request, id):","    emp = get_object_or_404(Employee, id=id)","    emp.delete()","    return redirect('employee_list')"],"id":11},{"start":{"row":0,"column":0},"end":{"row":69,"column":36},"action":"insert","lines":["from django.shortcuts import render, redirect, get_object_or_404","from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger","from django.contrib.auth.decorators import login_required","from django.contrib import messages","from .models import Employee","from .forms import EmployeeForm"," ","# Create your views here."," ","def home(request):","    return redirect('employee_list')"," ","# To perform CRUD operations"," ","def employee_list(request):","    # Get all employees (query is not executed yet - it's lazy)","    employees_query = Employee.objects.all().order_by('-id')","    # Create paginator - show 25 employees per page","    paginator = Paginator(employees_query, 25)","    # Get the page number from URL (e.g., ?page=2)","    page_number = request.GET.get('page', 1)","    try:","        page_obj = paginator.page(page_number)","    except PageNotAnInteger:","        # If page is not an integer, deliver first page","        page_obj = paginator.page(1)","    except EmptyPage:","        # If page is out of range, deliver last page","        page_obj = paginator.page(paginator.num_pages)","    context = {","        'page_obj': page_obj,","        'employees': page_obj.object_list,  # Current page employees","        'total_employees': paginator.count,","    }","    return render(request, 'employee_list.html', context)"," ","def employee_create(request):","    if request.method == 'POST':","        form = EmployeeForm(request.POST)","        if form.is_valid():","            form.save()","            messages.success(request, \"Employee added successfully!\")","            return redirect('employee_list')","        else:","            messages.error(request, \"Please fix the errors below.\")","    else:","        form = EmployeeForm()","    return render(request, 'employee_form.html', {'form': form, 'title': 'Add Employee'})"," ","    ","def employee_update(request, id):","    emp = get_object_or_404(Employee, id=id)","    if request.method == 'POST':","        form = EmployeeForm(request.POST, instance=emp)","        if form.is_valid():","            form.save()","            messages.success(request, \"Employee updated successfully!\")","            return redirect('employee_list')","        else:","            messages.error(request, \"Please correct the errors below.\")","    else:","        form = EmployeeForm(instance=emp)","    return render(request, 'employee_form.html', {'form': form, 'title': 'Edit Employee'})"," ","","def employee_delete(request, id):","    emp = get_object_or_404(Employee, id=id)","    emp.delete()","    messages.success(request, \"Employee deleted successfully!\")","    return redirect('employee_list')"]}],[{"start":{"row":0,"column":0},"end":{"row":69,"column":36},"action":"remove","lines":["from django.shortcuts import render, redirect, get_object_or_404","from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger","from django.contrib.auth.decorators import login_required","from django.contrib import messages","from .models import Employee","from .forms import EmployeeForm"," ","# Create your views here."," ","def home(request):","    return redirect('employee_list')"," ","# To perform CRUD operations"," ","def employee_list(request):","    # Get all employees (query is not executed yet - it's lazy)","    employees_query = Employee.objects.all().order_by('-id')","    # Create paginator - show 25 employees per page","    paginator = Paginator(employees_query, 25)","    # Get the page number from URL (e.g., ?page=2)","    page_number = request.GET.get('page', 1)","    try:","        page_obj = paginator.page(page_number)","    except PageNotAnInteger:","        # If page is not an integer, deliver first page","        page_obj = paginator.page(1)","    except EmptyPage:","        # If page is out of range, deliver last page","        page_obj = paginator.page(paginator.num_pages)","    context = {","        'page_obj': page_obj,","        'employees': page_obj.object_list,  # Current page employees","        'total_employees': paginator.count,","    }","    return render(request, 'employee_list.html', context)"," ","def employee_create(request):","    if request.method == 'POST':","        form = EmployeeForm(request.POST)","        if form.is_valid():","            form.save()","            messages.success(request, \"Employee added successfully!\")","            return redirect('employee_list')","        else:","            messages.error(request, \"Please fix the errors below.\")","    else:","        form = EmployeeForm()","    return render(request, 'employee_form.html', {'form': form, 'title': 'Add Employee'})"," ","    ","def employee_update(request, id):","    emp = get_object_or_404(Employee, id=id)","    if request.method == 'POST':","        form = EmployeeForm(request.POST, instance=emp)","        if form.is_valid():","            form.save()","            messages.success(request, \"Employee updated successfully!\")","            return redirect('employee_list')","        else:","            messages.error(request, \"Please correct the errors below.\")","    else:","        form = EmployeeForm(instance=emp)","    return render(request, 'employee_form.html', {'form': form, 'title': 'Edit Employee'})"," ","","def employee_delete(request, id):","    emp = get_object_or_404(Employee, id=id)","    emp.delete()","    messages.success(request, \"Employee deleted successfully!\")","    return redirect('employee_list')"],"id":12},{"start":{"row":0,"column":0},"end":{"row":60,"column":36},"action":"insert","lines":["from django.shortcuts import render, redirect, get_object_or_404","from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger","from django.contrib.auth.decorators import login_required","from django.contrib import messages","from .models import Employee","from .forms import EmployeeForm"," ","def home(request):","    return redirect('employee_list')"," ","def employee_list(request):","    # TEMPORARY: Test with hardcoded data (no database query)","    hardcoded_employees = [","        {'id': 1, 'name': 'John Doe', 'email': 'john@example.com', 'position': 'Manager', 'department': 'IT'},","        {'id': 2, 'name': 'Jane Smith', 'email': 'jane@example.com', 'position': 'Developer', 'department': 'IT'},","        {'id': 3, 'name': 'Bob Johnson', 'email': 'bob@example.com', 'position': 'Designer', 'department': 'Design'},","    ]","    # Use hardcoded data instead of database","    page_obj = None","    total_employees = len(hardcoded_employees)","    context = {","        'page_obj': None,","        'employees': hardcoded_employees,","        'total_employees': total_employees,","    }","    return render(request, 'employee_list.html', context)"," ","def employee_create(request):","    if request.method == 'POST':","        form = EmployeeForm(request.POST)","        if form.is_valid():","            form.save()","            messages.success(request, \"Employee added successfully!\")","            return redirect('employee_list')","        else:","            messages.error(request, \"Please fix the errors below.\")","    else:","        form = EmployeeForm()","    return render(request, 'employee_form.html', {'form': form, 'title': 'Add Employee'})"," ","    ","def employee_update(request, id):","    emp = get_object_or_404(Employee, id=id)","    if request.method == 'POST':","        form = EmployeeForm(request.POST, instance=emp)","        if form.is_valid():","            form.save()","            messages.success(request, \"Employee updated successfully!\")","            return redirect('employee_list')","        else:","            messages.error(request, \"Please correct the errors below.\")","    else:","        form = EmployeeForm(instance=emp)","    return render(request, 'employee_form.html', {'form': form, 'title': 'Edit Employee'})"," ","","def employee_delete(request, id):","    emp = get_object_or_404(Employee, id=id)","    emp.delete()","    messages.success(request, \"Employee deleted successfully!\")","    return redirect('employee_list')"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":60,"column":36},"end":{"row":60,"column":36},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1765151255850,"hash":"15a3407863ab450846006847878f60e7a3e805c7"}